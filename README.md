# Image2URL WordPress 插件（Clipboard Booster）

> 目标：让 Gutenberg 粘贴图片即上云，返回可长期访问的外链，解决共享主机 inode 限制与链接失效痛点。

## 核心能力
- **剪贴板直传**：在区块编辑器粘贴图片时自动上传到 image2url，插入外链图片块，不占用本地媒体库。
- **端点可配置**：支持改用自建/自定义域名的上传端点；本地超时前置体积校验。
- **无侵入部署**：启用后即可用，无需改模板；停用后粘贴行为恢复默认。

> 未来规划（未实现）：本地+云端双备份、一键回退、本地/云端批量迁移、Markdown 粘贴增强（解析 data URI 转云端）。

## 安装
1) 将 `dev/image2url-wordpress/` 拷贝或打包成 zip 安装到 WordPress 插件目录。  
2) 在后台启用插件，进入 `设置 -> Image2URL` 进行配置。

## 配置项
- **上传端点**：默认 `https://www.image2url.com/api/upload`。可改为自建 API 或自定义域。
- **体积限制 (MB)**：默认 2MB，与官方限制一致；超过会在本地阻断。
- **启用剪贴板直传**：开启后，Gutenberg 中粘贴图片会自动上云并插入外链。

## 使用
- 在区块编辑器中直接 `Ctrl+V / Cmd+V` 粘贴图片，等待提示完成即可。
- 上传成功会自动插入图片块并显示外链；失败会给出错误提示。

## 设计要点（对齐痛点）
- **inode 减负**：默认不入本地媒体库，降低共享主机 inode 压力。
- **剪贴板体验**：前端 Paste Handler 拦截剪贴板文件，上云后插入 image block，避免路径错乱。
- **可信策略**：端点可自定义，后续版本会补齐“本地+云端双备份”和“一键回退”工具，便于安全退出。

## 开发
- 代码入口：`image2url-wordpress.php`  
- 设置逻辑：`includes/class-image2url-plugin.php`  
- 前端粘贴脚本：`assets/js/editor-paste.js`  

## 路线图建议
1) **Gutenberg Markdown 粘贴增强**：识别 Markdown/Docs 粘贴中的 data URI 或本地相对路径，自动转存至云端。  
2) **双备份模式**：上传后可选镜像到本地媒体库（可控开关），并记录映射表以便回退。  
3) **一键回退/导出**：提供后台工具，将文章中的外链批量替换为本地附件（利用映射表），满足安全感与合规需求。  
4) **多端点与 SLA**：按作者/站点路由到不同端点或地域；暴露健康检查与速率统计。  
5) **安全与 SEO**：支持自定义域名、签名上传、可配置的缓存头与 alt 自动补全。
